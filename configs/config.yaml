# configs/config.yaml

# Model Configuration
model:
  # Tiny模型配置
  sam2_checkpoint: "sam_checkpoints/sam2.1_hiera_tiny.pt"
  sam2_model_cfg: "sam2.1_hiera_t.yaml"
  sam2_config_dir: "configs/sam2_configs"
  
  input_size: 256
  
  # === 修改点：更细粒度的冻结策略 ===
  freeze_trunk: true      # 冻结 Backbone
  freeze_neck_det: false  # 解冻 探测专用Neck
  freeze_neck_seg: false  # 解冻 分割专用Neck
  
  adapter_dim: 256
  detection_hidden_dim: 512

# Training Configuration
training:
  batch_size: 12
  num_epochs: 100
  learning_rate: 0.001
  weight_decay: 0.02
  warmup_epochs: 5
  gt_prompt_ratio_schedule:
    start_epoch: 20
    end_epoch: 80
    start_ratio: 1.0
    end_ratio: 0.2
  
# Loss Configuration
loss:
  seg_loss_weight: 1.0
  det_loss_weight: 1.0
  focal_alpha: 0.25
  focal_gamma: 2.0
  dice_weight: 0.5
  bce_weight: 0.5
  
# Dataset Configuration
dataset:
  name: "NUDT-SIRST"
  root_dir: "datasets/NUDT-SIRST"
  train_split: "train"
  val_split: "test"
  num_workers: 4
  
# Optimizer Configuration
optimizer:
  type: "Adan"
  betas: [0.98, 0.92, 0.99]
  
# Scheduler Configuration
scheduler:
  type: "CosineAnnealingLR"
  T_max: 100
  eta_min: 1e-6
  
# Logging Configuration
logging:
  save_dir: "experiments"
  log_interval: 10
  val_interval: 1
  save_interval: 50